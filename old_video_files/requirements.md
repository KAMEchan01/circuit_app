# CIRCUIT - 筋トレ・ダイエットアプリ 要件定義書

## 1. プロジェクト概要

### 1.1 アプリケーション名
**CIRCUIT（サーキット）**

### 1.2 アプリ名に込められた意味
- **タバタ式サーキットトレーニング**から命名
- **F1サーキット**をイメージし、継続的な周回（習慣化）を表現
- **電子回路（Circuit）**のように、運動→食事→記録のサイクルが循環する仕組み
- 「一周完走」することで達成感を演出し、毎日のルーティンを「レース」として楽しく継続

### 1.3 プロジェクト目的
筋トレ習慣のない初心者が「やらざるを得ない環境」で継続的に運動習慣を身につけ、健康的なダイエットを実現するWEBアプリケーションの開発

### 1.4 ターゲットユーザー
- **主要ターゲット**: 20-40代の筋トレ未経験者
- **特徴**: 運動習慣がない、時間がない、何から始めていいかわからない
- **ニーズ**: 短時間で効果的、継続しやすい、わかりやすい指導

## 2. 機能要件

### 2.1 コア機能：タバタ式ワークアウト

#### 2.1.1 基本仕様
- **総時間**: 4分間（20秒運動 + 10秒休憩 × 8セット）
- **開始前**: 5秒カウントダウン
- **エクササイズ種類**: 6種類から8種目をランダム選択（6種目全てを表示、連続重複なし、最大2回まで）
  1. プッシュアップ（腕立て伏せ）
  2. シットアップ（腹筋）
  3. スクワット
  4. ジャンピングジャック
  5. ロシアンツイスト
  6. マウンテンクライマー

#### 2.1.2 タイマー機能
- **準備時間**: 5秒カウントダウン
- **運動時間**: 20秒（各セット）
- **休憩時間**: 10秒（セット間）
- **精度**: ±0.1秒以内
- **機能**: 一時停止・再開機能

#### 2.1.3 運動表示機能・UI/UX仕様
- **カウントダウン表示**: 大きなタイマー表示
- **現在の運動**: 運動名と画像を大きく表示
- **次の運動予告**: 休憩中の残り5秒で次の運動を表示
- **運動グリッド**: 8種目を4×2グリッドで表示
- **ハイライト**: 現在実行中の種目をハイライト
- **プログレスバー**: 全体の進捗を可視化
- **F1テーマ**: レーシングカラー、効果音（将来実装）
- **完了時の達成表示**: ワークアウト完了時の演出

#### 2.1.4 メニュー選択ルール
- **必須表示**: 6種目全てのエクササイズが必ず含まれる
- **連続制限**: 2回続けて同じメニューは表示されない
- **出現制限**: 8セット中、同じメニューは最大2回まで
- **ランダム性**: 上記制限内でランダムに選択
- **フォールバック**: 制限により選択できない場合は50回まで再試行

#### 2.1.5 画像表示機能
- **準備段階**: 各エクササイズの0番画像（静止画）を表示
- **運動中**: 1番と2番画像を0.5秒間隔で交互表示（20秒間アニメーション）
- **次の運動予告**: 次のエクササイズの0番画像を表示
- **画像形式**: JPG形式、命名規則「exercise_name0.jpg」「exercise_name1.jpg」「exercise_name2.jpg」

### 2.2 カロリー管理機能

#### 2.2.1 摂取カロリー記録
- **食事記録**: 朝食、昼食、夕食、間食
- **入力方式**: テキスト入力
- **カロリー計算**: 簡易計算（文字数 × 10kcal）
- **1日合計表示**: リアルタイム更新

#### 2.2.2 消費カロリー記録
- **タバタワークアウト**: 4分間で約50kcal（自動記録）
- **ランニング**: 時間入力（分）× 8kcal
- **ウォーキング**: 歩数入力 × 0.04kcal
- **筋トレ**: 時間入力（分）× 5kcal

### 2.3 習慣化支援機能

#### 2.3.1 ストリーク（連続記録）システム
- **連続完走日数**: メイン画面に大きく表示
- **表示形式**: "○日連続完走中🏎️"
- **リセット条件**: 1日でも欠けるとゼロリセット
- **視覚的表現**: F1テーマでの演出
- **データ保存**: ローカルストレージに保存

#### 2.3.2 プレッシャー機能（将来実装）
- **毎日の目標設定**: 必須入力
- **リマインダー通知**: 未実施時の警告
- **進捗の可視化**: 週間・月間の完走率

## 3. 非機能要件

### 3.1 パフォーマンス要件
- **ロード時間**: 3秒以内
- **タイマー精度**: ±0.1秒以内
- **画面描画**: 60fps維持
- **レスポンス**: ボタン操作の即座反応

### 3.2 デザイン要件
- **テーマカラー**: 
  - メイン: #ff6b6b（レッド）
  - アクセント: #4ecdc4（ティール）
  - 背景: グラデーション（#1e3c72 → #2a5298）
- **フォント**: Arial
- **レスポンシブ**: モバイルファースト設計
- **アニメーション**: スムーズなトランジション

### 3.3 対応環境
- **デバイス**: スマートフォン・タブレット・PC
- **ブラウザ**: Chrome、Safari、Firefox、Edge（最新版）
- **OS**: iOS、Android、Windows、macOS
- **モバイル**: iOS Safari、Android Chrome

### 3.4 データ要件
- **保存場所**: ローカルストレージ
- **保存データ**: ストリーク数、カロリー記録
- **データ形式**: JSON形式
- **セキュリティ**: 個人情報の適切な暗号化
- **プライバシー**: ローカル保存中心の設計

## 4. システム構成

### 4.1 フロントエンド技術仕様
- **基本技術**: HTML5、CSS3、JavaScript（ES6+）
- **レスポンシブ**: CSS Grid、Flexbox
- **アニメーション**: CSS Transitions
- **データ保存**: localStorage API
- **UI Framework**: 検討中（React、Vue.js）

### 4.2 データ管理
- **第1段階**: ローカルストレージ
- **第2段階**: クラウド同期機能（将来実装）

### 4.3 画像・メディア
- **エクササイズ画像**: JPG/PNG形式
- **最適化**: 高速読み込み対応
- **効果音**: MP3形式（将来実装）

## 5. 画面構成

### 5.1 メイン画面
1. **ヘッダー**: ロゴ、サブタイトル
2. **ストリーク表示**: 連続記録
3. **ワークアウトセクション**: タイマー、運動表示、スタートボタン
4. **カロリー表示**: 摂取・消費カロリー
5. **タブ切り替え**: 食事記録・運動記録

### 5.2 ワークアウト中画面
1. **タイマー**: 大きな数字表示
2. **現在の運動**: 運動名と画像
3. **セットカウンター**: 現在セット/総セット
4. **プログレスバー**: 全体進捗
5. **運動グリッド**: 8種目表示
6. **次の運動予告**: 休憩時表示

## 6. 開発フェーズ

### 6.1 Phase 1: MVP（最小実用版）
- タバタタイマー機能
- 基本的なカロリー記録
- ストリーク表示
- 6種類のエクササイズ対応

### 6.2 Phase 2: 機能拡張
- 詳細な進捗分析
- カスタムワークアウト
- データエクスポート機能
- ユーザー設定（運動時間カスタマイズ）
- 音声ガイド
- 運動履歴グラフ

### 6.3 Phase 3: 体験向上
- F1効果音・演出
- ソーシャル機能
- AIによる個別最適化
- SNS連携
- 複数ワークアウトモード

### 6.4 将来的な拡張機能
- [ ] クラウド同期
- [ ] より詳細なカロリー計算
- [ ] 栄養素管理
- [ ] 体重・体脂肪率記録

## 7. 成功指標（KPI）

### 7.1 継続率
- **7日継続率**: 70%以上
- **30日継続率**: 40%以上

### 7.2 利用頻度
- **DAU（Daily Active Users）**: 毎日利用
- **完走率**: 80%以上

### 7.3 ユーザー満足度
- **アプリ評価**: 4.0以上
- **推奨意向**: NPS 50以上

## 8. リスクと対策

### 8.1 技術リスク
- **タイマー精度**: 複数ブラウザでのテスト実施
- **パフォーマンス**: 軽量化とキャッシュ戦略

### 8.2 ユーザビリティリスク
- **操作の複雑さ**: シンプルなUI設計
- **モチベーション低下**: ゲーミフィケーション要素

### 8.3 継続性リスク
- **飽きやすさ**: 定期的なコンテンツ更新
- **効果実感**: 進捗の可視化強化

## 9. テスト要件

### 9.1 機能テスト
- [ ] タイマー機能の正確性
- [ ] ランダム選択の動作
- [ ] データ保存・読み込み
- [ ] レスポンシブデザイン

### 9.2 ユーザビリティテスト
- [ ] 操作の直感性
- [ ] 視認性の確認
- [ ] パフォーマンス測定